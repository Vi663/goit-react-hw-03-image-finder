{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/searchbar/Searchbar.module.css","components/searchbar/Searchbar.jsx","components/imageGallery/ImageGallery.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/button/Button.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Searchbar","state","input","clearInput","setState","handleInputChange","e","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","trim","toast","error","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGallery","children","imageGallery","ImageGalleryItem","response","onSelect","map","obj","imageGalleryItem","onClick","src","webformatURL","alt","id","imageGalleryItemImage","Button","onHandleSubmit","button","App","url","key","page","searchInput","apiResponse","status","isModalOpen","toTop","window","scrollBy","top","pageYOffset","behavior","toBottom","scrollTo","document","documentElement","scrollHeight","setStatus","loading","success","inputValue","onImageClick","onLoadNext","prevState","fetchImages","a","fetch","then","json","data","console","log","total","catch","prevProps","hits","theme","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.dd9940fb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__g4A6I\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3Cx5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__29yzB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1sZNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Rtl7\",\"SearchForm\":\"Searchbar_SearchForm__1QKKU\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3cq6N\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3MEL8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1c27g\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nexport class Searchbar extends Component {\r\n\r\n  state = {\r\n    input: '',\r\n  }\r\n\r\n  clearInput = () => {\r\n    this.setState({input: \"\"})\r\n  }\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({ input: e.currentTarget.value.toLowerCase() });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.input);\r\n    if (this.state.input.trim() === \"\") {\r\n      toast.error(\"Please, fulfill the search form\");\r\n    }\r\n    // this.clearInput();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          value={this.state.input}\r\n          // autocomplete=\"off\"\r\n          // autofocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.handleInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n  }\r\n}","import React from 'react';\r\nimport s from './ImageGallery.module.css'\r\n\r\nexport function ImageGallery ({children}) {\r\n\r\n    return (\r\n      <ul className={s.imageGallery}>\r\n        {children}\r\n      </ul>\r\n    )\r\n}","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\nexport function ImageGalleryItem({ response, onSelect }) {\r\n  return (\r\n    response.map((obj) => \r\n    < li key={obj.id} className={s.imageGalleryItem} >\r\n        <img onClick={() => onSelect()} src={obj.webformatURL} alt={obj.id} className={s.imageGalleryItemImage} />\r\n    </li>)\r\n    \r\n    )\r\n}","import React from 'react';\r\nimport s from './Button.module.css'\r\n\r\nexport const Button = ({onHandleSubmit}) => {\r\n    return (\r\n      <button onSubmit={() => onHandleSubmit()} type=\"submit\" className={s.button}>\r\n        Load more images\r\n      </button>\r\n    )\r\n}","import React, { Component } from 'react';\nimport { Searchbar } from \"../searchbar/Searchbar\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport axios from 'axios'\nimport { ImageGallery } from \"../imageGallery/ImageGallery\";\nimport { ImageGalleryItem } from \"../imageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../button/Button\";\n// import { ContactList } from \"../ContactList/ContactList\";\n\nexport class App extends Component {\n  \n  state = {\n    url: 'pixabay.com/api/',\n    key: '22593683-900dbddd4b86d221bedd65f3e',\n    page: 1,\n    searchInput: '',\n    apiResponse: null,\n    status: 'idle',\n    isModalOpen: false,\n  }\n\n  async fetchImages() {\n    const { url, page, key, searchInput } = this.state;\n      await fetch(`https://${url}?q=${searchInput}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`)\n     .then(response => {return response.json();\n     }).then(data => {\n       console.log(data)\n       if (data.total === 0) { this.setState({ status: 'rejected' }) }\n       else { this.setState({ apiResponse: data, status: 'resolved' }) };\n     }).catch(error => this.setState({ status: 'rejected' }))\n    //   const response = await axios.get(`https://${url}?q=${searchInput}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`);\n    // this.setState({ apiResponse: response, status: 'resolved' });\n    // this.setStatus();\n  };\n\n  toTop = () => {\n    window.scrollBy({\n      top: -window.pageYOffset,\n      behavior: 'smooth',\n    });\n  }\n\n  toBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  setStatus = () => {\n    if (this.state.status === 'pending') {\n      toast.loading(\"Loading\")\n    } else if (this.state.status === 'resolved') {\n      toast.success(\"found!\")\n    } else if (this.state.status === 'rejected') {\n      toast.error(\"Not found!\")\n    }\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevState.searchInput !== this.state.searchInput) {\n      this.setState({ status: 'pending' })\n      this.fetchImages();\n      this.toBottom();\n      // this.setStatus();\n    }\n  };\n\n  onHandleSubmit = (inputValue) => {\n    this.setState({ searchInput: inputValue });\n  }\n\n\n  onImageClick = (e) => {\n    // e.preventDefault();\n    // this.setState(prevState => ({\n    //   page: prevState.page + 1,\n    // }));\n    // this.fetchImages();\n    // this.toBottom();\n  }\n\n  onLoadNext = () => {\n\n    this.setState(prevState => ({\n      page: prevState.page + 1,\n    }));\n    this.fetchImages();\n    this.toBottom();\n  }\n\n  render() {\n    const {status, apiResponse} = this.state\n    return (\n      <>\n        <Searchbar onSubmit={this.onHandleSubmit} />\n          {status === 'resolved' &&\n          <ImageGallery>\n            <ImageGalleryItem\n              response={apiResponse.hits}\n            onSelect={this.onImageClick} />\n          <Button onHandleSubmit={this.onLoadNext}/>\n          </ImageGallery>\n          }\n      <ToastContainer theme=\"colored\"/>\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/App/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}