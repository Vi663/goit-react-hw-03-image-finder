{"version":3,"sources":["components/imageGalleryItem/ImageGalleryItem.module.css","components/modal/Modal.module.css","components/imageGallery/ImageGallery.module.css","components/button/Button.module.css","components/wrapper/Wrapper.module.css","components/searchbar/Searchbar.module.css","components/searchbar/Searchbar.jsx","components/imageGallery/ImageGallery.jsx","components/imageGalleryItem/ImageGalleryItem.jsx","components/button/Button.jsx","components/modal/Modal.jsx","components/wrapper/Wrapper.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Searchbar","state","input","clearInput","setState","handleInputChange","e","currentTarget","value","toLowerCase","handleSubmit","preventDefault","props","onSubmit","trim","toast","error","className","s","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","placeholder","onChange","Component","ImageGallery","children","imageGallery","ImageGalleryItem","response","onSelect","map","obj","imageGalleryItem","onClick","src","webformatURL","alt","id","imageGalleryItemImage","Button","onHandleSubmit","button","Modal","imageURL","onClose","overlay","modal","largeImageURL","width","Wrapper","wrapper","App","url","key","page","searchInput","status","isModalOpen","imageData","images","onHandleKeydown","code","onTogleMoodal","toTop","window","scrollBy","top","pageYOffset","behavior","toBottom","scrollTo","document","documentElement","scrollHeight","setStatus","loading","success","inputValue","onImageClick","data","onLoadNext","nextPage","fetchImages","prevProps","prevState","addEventListener","removeEventListener","a","fetch","then","json","hits","length","catch","color","height","timeout","theme","autoClose","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e1680177.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__g4A6I\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__3Cx5T\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1_mjB\",\"modal\":\"Modal_modal__3lpXf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__29yzB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1sZNc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Wrapper_wrapper__18xIP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__1Rtl7\",\"SearchForm\":\"Searchbar_SearchForm__1QKKU\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3cq6N\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3MEL8\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1c27g\"};","import React, { Component } from 'react';\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from 'react-toastify';\r\n\r\n\r\nexport class Searchbar extends Component {\r\n\r\n  state = {\r\n    input: '',\r\n  }\r\n\r\n  clearInput = () => {\r\n    this.setState({input: \"\"})\r\n  }\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({ input: e.currentTarget.value.toLowerCase() });\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.input);\r\n    if (this.state.input.trim() === \"\") {\r\n      toast.error(\"Please, fulfill the search form\");\r\n    }\r\n    this.clearInput();\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <header className={s.Searchbar}>\r\n      <form onSubmit={this.handleSubmit} className={s.SearchForm}>\r\n        <button type=\"submit\" className={s.SearchFormButton}>\r\n          <span className={s.SearchFormButtonLabel}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={s.SearchFormInput}\r\n          type=\"text\"\r\n          value={this.state.input}\r\n          // autocomplete=\"off\"\r\n          // autofocus\r\n          placeholder=\"Search images and photos\"\r\n          onChange={this.handleInputChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  )\r\n  }\r\n}","import React from 'react';\r\nimport s from './ImageGallery.module.css'\r\n\r\nexport function ImageGallery ({children}) {\r\n\r\n    return (\r\n      <ul className={s.imageGallery}>\r\n        {children}\r\n      </ul>\r\n    )\r\n}","import React from 'react';\r\nimport s from './ImageGalleryItem.module.css'\r\n\r\nexport function ImageGalleryItem({ response, onSelect }) {\r\n  return (\r\n    response.map((obj) =>\r\n      < li key={obj.id} className={s.imageGalleryItem} >\r\n        <img onClick={() => onSelect(obj)} src={obj.webformatURL} alt={obj.id} className={s.imageGalleryItemImage} />\r\n      </li>)\r\n  )\r\n}","import React from 'react';\r\nimport s from './Button.module.css'\r\n\r\nexport function Button ({onHandleSubmit}) {\r\n    return (\r\n      <button onClick={() => onHandleSubmit()} type=\"button\" className={s.button}>\r\n        Load more images\r\n      </button>\r\n    )\r\n}","import React from 'react';\r\nimport s from './Modal.module.css'\r\n\r\nexport function Modal({ imageURL, onClose }) {\r\n  return (\r\n    <div className={s.overlay} onClick={() => onClose()}>\r\n      <div className={s.modal}>\r\n        <img src={imageURL.largeImageURL} alt={imageURL.id} width='700' />\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport s from './Wrapper.module.css'\r\n\r\nexport function Wrapper ({children}) {\r\n\r\n    return (\r\n      <div className={s.wrapper}>\r\n        {children}\r\n      </div>\r\n    )\r\n}","import React, { Component } from 'react';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Loader from \"react-loader-spinner\";\nimport { Searchbar } from \"../searchbar/Searchbar\";\nimport { ImageGallery } from \"../imageGallery/ImageGallery\";\nimport { ImageGalleryItem } from \"../imageGalleryItem/ImageGalleryItem\";\nimport { Button } from \"../button/Button\";\nimport { Modal } from \"../modal/Modal\";\nimport { Wrapper } from \"../wrapper/Wrapper\";\n\nexport class App extends Component {\n  \n  state = {\n    url: 'pixabay.com/api/',\n    key: '22593683-900dbddd4b86d221bedd65f3e',\n    page: 1,\n    searchInput: '',\n    status: 'idle',\n    isModalOpen: false,\n    imageData: '',\n    images: [],\n  }\n\n  componentDidUpdate (prevProps, prevState) {\n    if (prevState.searchInput !== this.state.searchInput) {\n      this.setState({ status: 'pending', images: [] });\n      this.fetchImages();\n      this.setState({ page: 1 })\n    }\n    // else if (prevState.page !== this.state.page) {\n    //   this.fetchImages();\n    // }\n  };\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.onHandleKeydown)\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener ('keydown', this.onHandleKeydown)\n  }\n\n  onHandleKeydown = (e) => {\n    if (e.code === 'Escape' ) {\n      this.onTogleMoodal();\n    }\n  }\n\n  async fetchImages() {\n    const { url, page, key, searchInput } = this.state;\n    await fetch(`https://${url}?q=${searchInput}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`)\n     .then(response => { return response.json();\n     }).then(data => {\n       if (data.hits.length === 0) { this.setState({ status: 'rejected' }) }\n       else {\n         this.setState(prevState => ({\n           ...prevState, images: [...prevState.images, ...data.hits], status: 'resolved'\n         })) \n       }\n     }).catch(error => this.setState({ status: 'rejected' }))\n    this.setStatus();\n  };\n\n  toTop = () => {\n    window.scrollBy({\n      top: -window.pageYOffset,\n      behavior: 'smooth',\n    });\n  }\n\n  toBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  setStatus = () => {\n    if (this.state.status === 'pending') {\n      toast.loading(\"Loading\")\n    } else if (this.state.status === 'resolved') {\n      toast.success(\"found!\")\n    } else if (this.state.status === 'rejected') {\n      toast.error(\"Not found!\")\n    }\n  }\n\n  onHandleSubmit = (inputValue) => {\n    this.setState({ searchInput: inputValue });\n  }\n\n\n  onImageClick = (data) => {\n    this.setState({ imageData: data });\n    this.onTogleMoodal();\n  }\n\n  onTogleMoodal = (e) => {\n    this.setState(({isModalOpen}) => ({ isModalOpen: !isModalOpen }));\n  }\n\n  onLoadNext = () => {\n    const nextPage = this.state.page + 1\n    this.setState(({page}) => ({\n      page: nextPage,\n    }));\n    this.fetchImages();\n    this.toTop();\n  }\n\n  render() {\n    const {status, images, isModalOpen, imageData} = this.state;\n    return (\n      <Wrapper>\n        <Searchbar onSubmit={this.onHandleSubmit} />\n        {status === 'resolved' &&\n          <ImageGallery>\n          <ImageGalleryItem\n            response={images}\n            onSelect={this.onImageClick} />\n          </ImageGallery>}\n        {status === 'resolved' && <Button onHandleSubmit={this.onLoadNext}/>}\n        { isModalOpen &&\n          <Modal imageURL={imageData} onClose={this.onTogleMoodal} />}\n        {status === 'pending' && <Loader\n          type=\"Puff\"\n          color=\"#3f51b5\"\n          height={100}\n          width={100}\n          timeout={3000}\n        />}\n      <ToastContainer theme=\"colored\" autoClose='2000'/>\n      </Wrapper>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './components/App/App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}